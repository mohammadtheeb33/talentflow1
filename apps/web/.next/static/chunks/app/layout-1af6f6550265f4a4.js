(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{772:function(e,t,n){Promise.resolve().then(n.bind(n,4114)),Promise.resolve().then(n.bind(n,2896))},9376:function(e,t,n){"use strict";var a=n(5475);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},4114:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var a=n(7437),r=n(7648),i=n(9376),s=n(2265),o=n(6410),c=n(3301);let l=[{href:"/Dashboard",label:"Dashboard"},{href:"/cvs",label:"Candidates"},{href:"/job-profiles",label:"Jobs"},{href:"/reports",label:"Reports"}];function u(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),[n,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[f,p]=(0,s.useState)("TF"),x=(e||"").startsWith("/auth");return((0,s.useEffect)(()=>{if(!x)try{let e=(0,o.kL)().currentUser,t=(null==e?void 0:e.displayName)||null,n=(null==e?void 0:e.email)||null;h(t),g(n);let a=(t||n||"").trim();if(a){let e=a.split(/\s+/).filter(Boolean),t=e[0]||"",n=e.length>1?e[e.length-1]:"",r=(t.slice(0,1)+(n.slice(0,1)||"")).toUpperCase();p(r||a.slice(0,2).toUpperCase())}}catch(e){}},[x]),x)?null:(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-gray-200 bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)(r.default,{href:"/Dashboard",className:"flex items-center gap-2 transition-opacity hover:opacity-80",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-600 text-white shadow-md",children:(0,a.jsx)("span",{className:"text-xs font-bold",children:"TF"})}),(0,a.jsx)("span",{className:"text-lg font-bold tracking-tight text-gray-900",children:"TalentFlow"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:l.map(t=>(0,a.jsx)(r.default,{href:t.href,className:"rounded-md px-3 py-2 text-sm font-medium transition-colors "+(e===t.href?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:t.label},t.href))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden text-right sm:block",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:d||"User"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:m||"Guest"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>u(e=>!e),className:"flex h-9 w-9 items-center justify-center rounded-full bg-indigo-100 text-sm font-medium text-indigo-700 ring-2 ring-transparent transition-all hover:bg-indigo-200 focus:outline-none focus:ring-indigo-500","aria-haspopup":"menu","aria-expanded":n?"true":"false",children:f}),n&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none animate-in fade-in zoom-in-95 duration-100",children:[(0,a.jsxs)("div",{className:"border-b px-4 py-2 sm:hidden",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:d}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:m})]}),(0,a.jsx)(r.default,{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Settings"}),(0,a.jsx)("button",{onClick:async()=>{try{let e=(0,o.kL)();await (0,c.w7)(e),t.push("/auth/login")}catch(e){}},className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:"Logout"})]})]})]})]})})}},2896:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var a=n(7437),r=n(2265),i=n(9376),s=n(6410),o=n(3301);function c(e){let{children:t}=e,n=(0,i.useRouter)(),c=(0,i.usePathname)(),[l,u]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=null;try{let t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;if((c||"").startsWith("/auth")){u(!0);return}let a=(0,s.kL)(),r=a.currentUser;!r||r.isAnonymous?(async()=>{try{let e=await (0,s.m6)();if("string"==typeof e&&e.startsWith("dev-")||t){u(!0);return}}catch(e){}let e="/auth/login?next=".concat(encodeURIComponent(c||"/"));try{n.replace(e)}catch(e){}setTimeout(()=>{try{window.location.href=e}catch(e){}},200)})():u(!0),e=(0,o.Aj)(a,e=>{if(e)e.isAnonymous,u(!0);else{let e="/auth/login?next=".concat(encodeURIComponent(c||"/"));try{n.replace(e)}catch(e){}setTimeout(()=>{try{window.location.href=e}catch(e){}},200)}})}catch(t){let e="/auth/login?next=".concat(encodeURIComponent(c||"/"));try{n.replace(e)}catch(e){}setTimeout(()=>{try{window.location.href=e}catch(e){}},200)}return()=>{try{e&&e()}catch(e){}}},[c,n]),l)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("div",{className:"flex min-h-[50vh] items-center justify-center",children:(0,a.jsx)("div",{className:"animate-pulse rounded bg-gray-200 px-4 py-2 text-sm text-gray-600",children:"Loading..."})})}},6410:function(e,t,n){"use strict";n.d(t,{X9:function(){return d},bH:function(){return h},kL:function(){return u},m6:function(){return g},mi:function(){return m}});var a=n(738),r=n(3301),i=n(5978),s=n(62),o=n(257);let c={apiKey:"AIzaSyATtmjTHjfMEesV1HQU_x1M3W_g_IWYC-g",authDomain:"cvchk-1a7e0.firebaseapp.com",projectId:"cvchk-1a7e0",storageBucket:"cvchk-1a7e0.firebasestorage.app",messagingSenderId:"318794750",appId:"1:318794750:web:ead1f9207f928eb2696eaf",measurementId:"G-VEX3P44B83"},l=null;function u(){return l||(l=(0,a.getApps)().length?(0,a.getApps)()[0]:(0,a.initializeApp)(c)),(0,r.v0)(l)}function d(){l||(l=(0,a.getApps)().length?(0,a.getApps)()[0]:(0,a.initializeApp)(c));let e=(0,i.getFirestore)(l);try{let t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,n="1"===String("0"),a=Number(o.env.FIREBASE_EMULATORS_FIRESTORE_PORT||0)||8090;t&&n&&(0,i.connectFirestoreEmulator)(e,"127.0.0.1",a)}catch(e){}return e}function h(){l||(l=(0,a.getApps)().length?(0,a.getApps)()[0]:(0,a.initializeApp)(c));let e=(0,s.getStorage)(l);try{let t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,n="1"===String("0"),a=Number(o.env.FIREBASE_EMULATORS_STORAGE_PORT||0)||9199;t&&n&&(0,s.connectStorageEmulator)(e,"127.0.0.1",a)}catch(e){}return e}async function m(e){let t=h();try{let n=(0,s.ref)(t,e);return await (0,s.getDownloadURL)(n)}catch(t){try{let t=String("cvchk-1a7e0.firebasestorage.app"),n="1"===String("0")?"http://127.0.0.1:"+(o.env.FIREBASE_EMULATORS_STORAGE_PORT||9199):"https://firebasestorage.googleapis.com",a=t.endsWith(".appspot.com")||t.endsWith(".firebasestorage.app")?t:"".concat(t),r=encodeURIComponent(e);return"".concat(n,"/v0/b/").concat(a,"/o/").concat(r,"?alt=media")}catch(e){throw t}}}async function g(){try{var e,t;let n=u(),a=n.currentUser;if(null==a?void 0:a.uid)return a.uid;if(await new Promise(e=>(0,r.Aj)(n,e)),null===(e=n.currentUser)||void 0===e?void 0:e.uid)return n.currentUser.uid;if(await (0,r.XB)(n),await new Promise(e=>(0,r.Aj)(n,e)),!(null===(t=n.currentUser)||void 0===t?void 0:t.uid))throw Error("Unable to establish user session");return n.currentUser.uid}catch(a){let e=String((null==a?void 0:a.code)||"").toLowerCase(),t=String((null==a?void 0:a.message)||"").toLowerCase();"localhost"===window.location.hostname||window.location.hostname;let n="1"===(o.env.NEXT_PUBLIC_FORCE_DEV_UID||"");if(t.includes("invalid-api-key")||e.includes("admin-restricted-operation")||e.includes("operation-not-allowed")||e.includes("network-request-failed")||e.includes("config")||n)try{let e="dev:uid",t=window.localStorage.getItem(e);return t||(t="dev-".concat(Math.random().toString(36).slice(2)),window.localStorage.setItem(e,t)),t}catch(e){return"dev-".concat(Date.now())}throw a}}}},function(e){e.O(0,[358,139,2,648,971,117,744],function(){return e(e.s=772)}),_N_E=e.O()}]);