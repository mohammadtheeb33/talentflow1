"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6003:function(e,t,r){r.d(t,{Z:function(){return c}});var s=r(7437),n=r(2265),o=r(5978),i=r(6410),a=r(7648);function l(e){let{status:t}=e,r=String(t||"").toLowerCase(),n="bg-gray-100 text-gray-800 border-gray-200",o=null,i=t||"Unknown";return["accepted","accept","approved","strong_fit","strong fit"].includes(r)?(n="bg-green-50 text-green-700 border-green-200",o=(0,s.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i="Strong fit"):["needs_review","review","pending","pending_review","pending review"].includes(r)?(n="bg-yellow-50 text-yellow-700 border-yellow-200",o=(0,s.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i="Pending review"):["rejected","reject","not_a_fit","not a fit"].includes(r)?(n="bg-red-50 text-red-700 border-red-200",o=(0,s.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),i="Not a fit"):["scored","evaluated"].includes(r)&&(n="bg-indigo-50 text-indigo-700 border-indigo-200",o=(0,s.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i="Scored"),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-xs font-medium ".concat(n),children:[o,(0,s.jsx)("span",{children:i})]})}function d(e){var t;let{item:r,onDeleted:d}=e,c=function(e,t){let r=(e||"").trim();if(r){let e=r.split(/\s+/).filter(Boolean),t=e[0]||"",s=e.length>1?e[e.length-1]:"";return(t.slice(0,1)+(s.slice(0,1)||"")).toUpperCase()||t.slice(0,2).toUpperCase()}let s=(t||"").trim();return s?s.slice(0,2).toUpperCase():"CV"}(r.name,r.email),u="number"==typeof r.score?Math.max(0,Math.min(100,Math.round(r.score))):null,m=function(e){let t=(null==e?void 0:e.seconds)||0;if(!t)return"—";let r=new Date(1e3*t),n=new Date,o=r.toDateString()===n.toDateString(),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1),a=r.toDateString()===i.toDateString();if(o)return(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["Today ",(0,s.jsx)("span",{className:"text-gray-400 font-normal",children:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]});if(a)return(0,s.jsxs)("span",{className:"text-gray-700",children:["Yesterday ",(0,s.jsx)("span",{className:"text-gray-400 font-normal",children:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]});let l=r.toLocaleDateString([],{weekday:"short"}),d=r.toLocaleDateString([],{month:"short",day:"numeric"});return(0,s.jsxs)("span",{className:"text-gray-600",children:[d," ",(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",l,")"]})]})}((null===(t=r.submittedAt)||void 0===t?void 0:t.seconds)?r.submittedAt:r.updatedAt),[g,h]=(0,n.useState)(!1);async function x(){if((null==r?void 0:r.id)&&confirm("هل تريد حذف هذا السيرة الذاتية نهائيًا؟"))try{h(!0);let e=(0,i.X9)();await (0,o.deleteDoc)((0,o.doc)(e,"cvs",r.id)),d&&d(r.id)}catch(e){alert((null==e?void 0:e.message)||"تعذّر حذف السيرة الذاتية")}finally{h(!1)}}return(0,s.jsxs)("tr",{className:"group border-b border-gray-100 transition-colors hover:bg-gray-50/50",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-sm font-semibold text-indigo-700 ring-4 ring-white transition-shadow group-hover:ring-indigo-50",children:c})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(a.default,{href:"/cvs/".concat(r.id),className:"font-medium text-gray-900 hover:text-indigo-600 hover:underline decoration-indigo-300 underline-offset-2",children:r.name||r.email||r.id}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:r.email||""})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:(0,s.jsx)("span",{className:"inline-flex items-center rounded-md bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700",children:r.jobTitle||r.jobProfileId||"—"})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:r.source||"—"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:m}),(0,s.jsx)("td",{className:"px-6 py-4",children:null!==u?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-gray-100",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(u>=75?"bg-green-500":u>=50?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(u,"%")}})}),(0,s.jsxs)("span",{className:"text-xs font-semibold ".concat(u>=75?"text-green-700":u>=50?"text-yellow-700":"text-red-700"),children:[u,"%"]})]}):(0,s.jsx)("span",{className:"text-xs text-gray-400 italic",children:"Not scored"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)(l,{status:r.status})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,s.jsx)(a.default,{href:"/cvs/".concat(r.id),className:"rounded-md border border-gray-200 bg-white px-3 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 hover:text-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"View"}),(0,s.jsx)("button",{onClick:x,disabled:g,className:"rounded-md border border-gray-200 bg-white p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600 hover:border-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50",title:"Delete Candidate",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})}function c(e){let{onCheckCv:t}=e,[r,a]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[g,h]=(0,n.useState)(!1),[x,p]=(0,n.useState)(null),[v,f]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[N,S]=(0,n.useState)(""),[k,A]=(0,n.useState)(0),[C,L]=(0,n.useState)(100),[M,E]=(0,n.useState)("date"),[T,I]=(0,n.useState)("desc"),[_,D]=(0,n.useState)("all"),[U,B]=(0,n.useState)("table");(0,n.useEffect)(()=>{let e=!0,t=null,r=null,s=null;return(async()=>{try{var n;h(!0),p(null);let l=(0,i.kL)(),d=(null===(n=l.currentUser)||void 0===n?void 0:n.uid)||null;if(!d)try{d=await (0,i.m6)()}catch(e){}if(!d){p("غير مصرح: الرجاء تسجيل الدخول");return}let u=(0,i.X9)();t=(0,o.onSnapshot)((0,o.query)((0,o.collection)(u,"cvs"),(0,o.where)("uid","==",d),(0,o.limit)(200)),t=>{if(!e)return;let r=[];t.forEach(e=>{var t,s,n;let o=e.data();r.push({id:e.id,name:(null==o?void 0:null===(t=o.parsed)||void 0===t?void 0:t.name)||(null==o?void 0:o.name)||null,email:(null==o?void 0:null===(s=o.parsed)||void 0===s?void 0:s.email)||(null==o?void 0:o.email)||null,status:(null==o?void 0:o.status)||null,score:"number"==typeof(null==o?void 0:o.score)?o.score:null,jobProfileId:(null==o?void 0:o.jobProfileId)||null,jobTitle:(null==o?void 0:o.jobTitle)||void 0,source:(null==o?void 0:o.source)||(null==o?void 0:null===(n=o.ingestion)||void 0===n?void 0:n.source)||(null==o?void 0:o.origin)||null,submittedAt:(null==o?void 0:o.createdAt)||(null==o?void 0:o.submittedAt)||null,updatedAt:(null==o?void 0:o.scoreUpdatedAt)||(null==o?void 0:o.updatedAt)||null})}),a(r)},e=>{p((null==e?void 0:e.message)||"Failed to listen to candidates")}),r=(0,o.onSnapshot)((0,o.query)((0,o.collection)(u,"cvs"),(0,o.where)("userId","==",d),(0,o.limit)(200)),t=>{if(!e)return;let r=[];t.forEach(e=>{var t,s,n;let o=e.data();r.push({id:e.id,name:(null==o?void 0:null===(t=o.parsed)||void 0===t?void 0:t.name)||(null==o?void 0:o.name)||null,email:(null==o?void 0:null===(s=o.parsed)||void 0===s?void 0:s.email)||(null==o?void 0:o.email)||null,status:(null==o?void 0:o.status)||null,score:"number"==typeof(null==o?void 0:o.score)?o.score:null,jobProfileId:(null==o?void 0:o.jobProfileId)||null,jobTitle:(null==o?void 0:o.jobTitle)||void 0,source:(null==o?void 0:o.source)||(null==o?void 0:null===(n=o.ingestion)||void 0===n?void 0:n.source)||(null==o?void 0:o.origin)||null,submittedAt:(null==o?void 0:o.createdAt)||(null==o?void 0:o.submittedAt)||null,updatedAt:(null==o?void 0:o.scoreUpdatedAt)||(null==o?void 0:o.updatedAt)||null})}),c(r)},e=>{p((null==e?void 0:e.message)||"Failed to listen to candidates")}),s=(0,o.onSnapshot)((0,o.query)((0,o.collection)(u,"jobProfiles"),(0,o.where)("uid","==",d),(0,o.limit)(200)),t=>{if(!e)return;let r=[];t.forEach(e=>r.push({id:e.id,...e.data()})),r.sort((e,t)=>String(e.title||e.id).localeCompare(String(t.title||t.id))),m(r)},e=>{p((null==e?void 0:e.message)||"Failed to listen to job profiles")})}catch(e){p((null==e?void 0:e.message)||"Failed to load candidates")}finally{h(!1)}})(),()=>{if(e=!1,t)try{t()}catch(e){}if(r)try{r()}catch(e){}if(s)try{s()}catch(e){}}},[]);let P=(0,n.useMemo)(()=>{let e=new Map,t=t=>t.forEach(t=>{e.set(t.id,t)});t(r),t(l);let s={};return u.forEach(e=>{e.id&&(s[e.id]=e.title||e.id)}),Array.from(e.values()).map(e=>e.jobTitle||!e.jobProfileId?e:{...e,jobTitle:s[e.jobProfileId]||e.jobProfileId})},[r,l,u]),R=(0,n.useMemo)(()=>{let e=new Set;return P.forEach(t=>{t.source&&e.add(String(t.source))}),Array.from(e).sort((e,t)=>e.localeCompare(t))},[P]),W=(0,n.useMemo)(()=>{let e=v.trim().toLowerCase(),t=P.filter(t=>{var r,s;let n=(t.name||"").toLowerCase(),o=(t.email||"").toLowerCase(),i=!e||n.includes(e)||o.includes(e),a=!b||t.jobProfileId===b,l=!j||String(t.status||"")===j,d=!N||String(t.source||"")===N,c="number"==typeof t.score?t.score:null,u=0===k&&100===C,m=null===c?u:c>=k&&c<=C,g=String(t.status||"").toLowerCase(),h=(null===(r=t.submittedAt)||void 0===r?void 0:r.seconds)||(null===(s=t.updatedAt)||void 0===s?void 0:s.seconds)||0,x=Math.floor(Date.now()/1e3),p="all"===_||("scored"===_?"scored"===g:"interviewing"===_?g.includes("interview"):"new"!==_||!!h&&x-h<=604800);return i&&a&&l&&d&&m&&p}),r=e=>{var t,r;return(null===(t=e.updatedAt)||void 0===t?void 0:t.seconds)||(null===(r=e.submittedAt)||void 0===r?void 0:r.seconds)||0},s="name"===M?(e,t)=>String(e.name||e.email||e.id).localeCompare(String(t.name||t.email||t.id)):"date"===M?(e,t)=>r(t)-r(e):(e,t)=>Number(t.score||0)-Number(e.score||0);return t.sort(s),"asc"===T&&t.reverse(),t},[P,v,b,j,N,k,C,M,T,_]),z=(0,n.useMemo)(()=>"".concat(W.length," results"),[W.length]),F=(0,n.useMemo)(()=>{let e=W.reduce((e,t)=>{var r,s;return Math.max(e,(null===(r=t.updatedAt)||void 0===r?void 0:r.seconds)||(null===(s=t.submittedAt)||void 0===s?void 0:s.seconds)||0)},0);return e?Math.max(0,Math.floor((Date.now()-1e3*e)/6e4)):null},[W]);return(0,s.jsxs)("section",{className:"flex flex-col rounded-xl border border-gray-200 bg-white shadow-sm transition-all hover:shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Candidates"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and track your candidate pipeline"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:z}),t&&(0,s.jsxs)("button",{onClick:t,className:"flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-all hover:bg-indigo-700 hover:shadow focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Check CV"]})]})]}),(0,s.jsxs)("div",{className:"border-b border-gray-100 bg-gray-50/50 px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,s.jsx)("svg",{className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,s.jsx)("input",{value:v,onChange:e=>f(e.target.value),placeholder:"Search by name, email, or keywords...",className:"w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-4 text-sm shadow-sm transition-colors focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("div",{className:"flex items-center rounded-lg border border-gray-200 bg-white p-1 shadow-sm",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-colors ".concat("table"===U?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50"),onClick:()=>B("table"),children:[(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Table"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-colors ".concat("cards"===U?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50"),onClick:()=>B("cards"),children:[(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Cards"]})]})})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quick Filters:"}),["all","new","interviewing","scored"].map(e=>(0,s.jsx)("button",{onClick:()=>D(e),className:"rounded-full px-4 py-1.5 text-xs font-medium transition-colors border ".concat(_===e?"border-indigo-200 bg-indigo-500 text-indigo-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:"all"===e?"All Candidates":"new"===e?"New This Week":"interviewing"===e?"Interviewing":"Scored"},e))]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 bg-white px-3 py-1.5 rounded-full border border-gray-200 shadow-sm",children:[(0,s.jsx)("span",{className:"h-2 w-2 rounded-full ".concat("number"==typeof F&&F<5?"bg-green-500 animate-pulse":"bg-green-500")}),(0,s.jsxs)("span",{children:["Synced with ATS","number"==typeof F?" • ".concat(0===F?"Just now":"".concat(F,"m ago")):""]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 border-b border-gray-100 bg-white px-6 py-3",children:[(0,s.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"rounded-lg border-gray-300 bg-white py-1.5 text-sm text-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Job Titles"}),u.map(e=>(0,s.jsx)("option",{value:e.id,children:e.title||e.id},e.id))]}),(0,s.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"rounded-lg border-gray-300 bg-white py-1.5 text-sm text-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),(0,s.jsx)("option",{value:"scored",children:"Scored"}),(0,s.jsx)("option",{value:"accepted",children:"Strong fit"}),(0,s.jsx)("option",{value:"needs_review",children:"Pending review"}),(0,s.jsx)("option",{value:"rejected",children:"Not a fit"})]}),(0,s.jsxs)("select",{value:N,onChange:e=>S(e.target.value),className:"rounded-lg border-gray-300 bg-white py-1.5 text-sm text-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Sources"}),R.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("div",{className:"ml-auto flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-gray-50 px-3 py-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Score Range"}),(0,s.jsx)("input",{type:"number",min:0,max:100,value:k,onChange:e=>A(Number(e.target.value||0)),className:"w-12 rounded border-gray-300 p-0 text-center text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,s.jsx)("span",{className:"text-gray-400",children:"–"}),(0,s.jsx)("input",{type:"number",min:0,max:100,value:C,onChange:e=>L(Number(e.target.value||100)),className:"w-12 rounded border-gray-300 p-0 text-center text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("select",{value:M,onChange:e=>E(e.target.value),className:"rounded-lg border-gray-300 bg-white py-1.5 text-sm text-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"date",children:"Sort by: Date"}),(0,s.jsx)("option",{value:"score",children:"Sort by: Score"}),(0,s.jsx)("option",{value:"name",children:"Sort by: Name"})]}),(0,s.jsx)("button",{onClick:()=>I("desc"===T?"asc":"desc"),className:"rounded-lg border border-gray-300 bg-white p-1.5 text-gray-500 hover:bg-gray-50 hover:text-gray-700",children:"desc"===T?(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})]})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-xs uppercase tracking-wider text-gray-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Avatar"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Candidate"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Job Title"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Source"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Submitted"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Match"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 font-semibold",children:"Actions"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-100 bg-white",children:[g&&Array.from({length:5}).map((e,t)=>(0,s.jsxs)("tr",{className:"animate-pulse",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200"})}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("div",{className:"h-4 w-32 rounded bg-gray-200 mb-2"}),(0,s.jsx)("div",{className:"h-3 w-24 rounded bg-gray-100"})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-24 rounded bg-gray-200"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-16 rounded bg-gray-200"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 w-20 rounded bg-gray-200"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-100",children:(0,s.jsx)("div",{className:"h-2 w-1/2 rounded-full bg-gray-200"})})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-6 w-20 rounded-full bg-gray-200"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-8 w-8 rounded bg-gray-200"})})]},t)),!g&&W.map(e=>(0,s.jsx)(d,{item:e,onDeleted:e=>{a(t=>t.filter(t=>t.id!==e)),c(t=>t.filter(t=>t.id!==e))}},e.id)),!g&&0===W.length&&(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{className:"px-6 py-12 text-center",colSpan:8,children:[(0,s.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No candidates found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Adjust your search or filters to find what you're looking for."})]})})]})]})})]})}},6410:function(e,t,r){r.d(t,{X9:function(){return u},bH:function(){return m},kL:function(){return c},m6:function(){return h},mi:function(){return g}});var s=r(738),n=r(3301),o=r(5978),i=r(62),a=r(257);let l={apiKey:"AIzaSyATtmjTHjfMEesV1HQU_x1M3W_g_IWYC-g",authDomain:"cvchk-1a7e0.firebaseapp.com",projectId:"cvchk-1a7e0",storageBucket:"cvchk-1a7e0.firebasestorage.app",messagingSenderId:"318794750",appId:"1:318794750:web:ead1f9207f928eb2696eaf",measurementId:"G-VEX3P44B83"},d=null;function c(){return d||(d=(0,s.getApps)().length?(0,s.getApps)()[0]:(0,s.initializeApp)(l)),(0,n.v0)(d)}function u(){d||(d=(0,s.getApps)().length?(0,s.getApps)()[0]:(0,s.initializeApp)(l));let e=(0,o.getFirestore)(d);try{let t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,r="1"===String("0"),s=Number(a.env.FIREBASE_EMULATORS_FIRESTORE_PORT||0)||8090;t&&r&&(0,o.connectFirestoreEmulator)(e,"127.0.0.1",s)}catch(e){}return e}function m(){d||(d=(0,s.getApps)().length?(0,s.getApps)()[0]:(0,s.initializeApp)(l));let e=(0,i.getStorage)(d);try{let t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,r="1"===String("0"),s=Number(a.env.FIREBASE_EMULATORS_STORAGE_PORT||0)||9199;t&&r&&(0,i.connectStorageEmulator)(e,"127.0.0.1",s)}catch(e){}return e}async function g(e){let t=m();try{let r=(0,i.ref)(t,e);return await (0,i.getDownloadURL)(r)}catch(t){try{let t=String("cvchk-1a7e0.firebasestorage.app"),r="1"===String("0")?"http://127.0.0.1:"+(a.env.FIREBASE_EMULATORS_STORAGE_PORT||9199):"https://firebasestorage.googleapis.com",s=t.endsWith(".appspot.com")||t.endsWith(".firebasestorage.app")?t:"".concat(t),n=encodeURIComponent(e);return"".concat(r,"/v0/b/").concat(s,"/o/").concat(n,"?alt=media")}catch(e){throw t}}}async function h(){try{var e,t;let r=c(),s=r.currentUser;if(null==s?void 0:s.uid)return s.uid;if(await new Promise(e=>(0,n.Aj)(r,e)),null===(e=r.currentUser)||void 0===e?void 0:e.uid)return r.currentUser.uid;if(await (0,n.XB)(r),await new Promise(e=>(0,n.Aj)(r,e)),!(null===(t=r.currentUser)||void 0===t?void 0:t.uid))throw Error("Unable to establish user session");return r.currentUser.uid}catch(s){let e=String((null==s?void 0:s.code)||"").toLowerCase(),t=String((null==s?void 0:s.message)||"").toLowerCase();"localhost"===window.location.hostname||window.location.hostname;let r="1"===(a.env.NEXT_PUBLIC_FORCE_DEV_UID||"");if(t.includes("invalid-api-key")||e.includes("admin-restricted-operation")||e.includes("operation-not-allowed")||e.includes("network-request-failed")||e.includes("config")||r)try{let e="dev:uid",t=window.localStorage.getItem(e);return t||(t="dev-".concat(Math.random().toString(36).slice(2)),window.localStorage.setItem(e,t)),t}catch(e){return"dev-".concat(Date.now())}throw s}}}}]);